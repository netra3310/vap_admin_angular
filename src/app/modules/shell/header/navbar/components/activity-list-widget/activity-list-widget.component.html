<div
  id="kt_activities"
  class="bg-body"
  data-kt-drawer="true"
  data-kt-drawer-name="activities"
  data-kt-drawer-activate="true"
  data-kt-drawer-overlay="true"
  data-kt-drawer-width="{default:'300px', 'lg': '700px'}"
  data-kt-drawer-direction="end"
  data-kt-drawer-toggle="#kt_activities_toggle"
  data-kt-drawer-close="#kt_activities_close"
>
<div *ngIf="true" class="d-flex position-absolute justify-content-center align-items-center w-100 h-100">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
  <div class="card shadow-none rounded-0">
    <div class="card-header" id="kt_activities_header">
      <h3 class="card-title fw-bolder text-dark">Activity Logs &nbsp;&nbsp;&nbsp;
        <!-- <span class="fs-6 text-muted">
          {{currentTime}}
        </span> -->
      </h3>
      <div class="card-toolbar">
        <button
          type="button"
          class="btn btn-sm btn-icon btn-active-light-primary me-n5"
          id="kt_activities_close"
        >
          <span
            [inlineSVG]="'./assets/media/icons/duotune/arrows/arr061.svg'"
            class="svg-icon svg-icon-1"
          ></span>
        </button>
      </div>
    </div>
    
    <div class="card-body position-relative" id="kt_activities_body">
      <div
        id="kt_activities_scroll"
        class="position-relative scroll-y me-n5 pe-5"
        data-kt-scroll="true"
        data-kt-scroll-height="auto"
        data-kt-scroll-wrappers="#kt_activities_body"
        data-kt-scroll-dependencies="#kt_activities_header, #kt_activities_footer"
        data-kt-scroll-offset="5px"
      >
        <div class="timeline">
          <ng-container *ngFor="let group of groupedByDate | keyvalue" >
            <div class="pe-3 mb-5">
              <div class="fs-5 fw-bold mb-2">
                  {{group.key}}
              </div>

              <div class="d-flex align-items-center mt-1 fs-6">
                  <!-- <div class="text-muted me-2 fs-7">Added at 4:23 PM by</div> -->

                  <div
                  class="symbol symbol-circle symbol-25px"
                  data-bs-toggle="tooltip"
                  data-bs-boundary="window"
                  data-bs-placement="top"
                  title="Nina Nilson"
                  >
                  <!-- <img src="./assets/media/avatars/300-14.jpg" alt="img" /> -->
                  </div>
              </div>
          </div>
          <ng-container *ngFor="let action of ArrayNotifications(group.value)" >
            <div class="timeline-item">
              <div class="timeline-line w-40px"></div>

              <div class="timeline-icon symbol symbol-circle symbol-40px me-4">
                <div class="symbol-label">
                  <span
                    [inlineSVG]="
                      './assets/media/icons/duotune/communication/com003.svg'
                    "
                    class="svg-icon svg-icon-2 svg-icon-gray-500"
                    style="color: cornflowerblue;"
                  ></span>
                </div>
              </div>

              <div class="timeline-content mb-10 mt-n1">
                <div class="pe-3 mb-5">
                  <div class="fs-5 fw-bold mb-2">
                    {{action.Description}}
                  </div>

                  <div class="d-flex align-items-center mt-1 fs-6">
                    <div class="text-muted me-2 fs-7">{{action.PerformedAt}}</div>

                    <div
                      class="symbol symbol-circle symbol-25px"
                      data-bs-toggle="tooltip"
                      data-bs-boundary="window"
                      data-bs-placement="top"
                      title="Nina Nilson"
                    >
                      <img src="./assets/media/avatars/300-14.jpg" alt="img" />
                    </div>
                  </div>
                </div>

                <div class="overflow-auto pb-5">
                  <div class="d-flex align-items-center border border-dashed border-gray-300 rounded 
                          min-w-350px px-7 py-3 mb-5">
                    <a class=" fs-5n text-dark text-hover-primary fw-bold w-375px min-w-200px cursor-pointer">
                      {{action.User}}
                    </a>

                    <div class="min-w-175px pe-2">
                      <span class="badge badge-light text-muted">{{action.Action}}</span>
                    </div>
                    <!-- <div class="min-w-125px pe-2">
                      <span class="badge badge-light-primary">{{action.ID}}</span>
                    </div>
                    <a class="btn btn-sm btn-light btn-active-light-primary cursor-pointer">
                      {{action.UserID}}
                    </a> -->
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </ng-container>
          <!-- Item1 -->
       
        </div>
      </div>
    </div>
    <div class="card-footer py-5 text-center" id="kt_activities_footer">
      <a to="/crafted/pages/profile" class="btn btn-bg-body text-primary">
        View All Activities
        <span
          [inlineSVG]="'./assets/media/icons/duotune/arrows/arr064.svg'"
          class="svg-icon svg-icon-3 svg-icon-primary"
        ></span>
      </a>
    </div>
  </div>
</div>
